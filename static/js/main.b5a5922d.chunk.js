(this["webpackJsonpstar-wars"]=this["webpackJsonpstar-wars"]||[]).push([[0],{169:function(e,t,a){},180:function(e,t,a){e.exports=a.p+"static/media/star_wars_logo.677d897f.png"},212:function(e,t,a){e.exports=a(432)},217:function(e,t,a){},218:function(e,t,a){},432:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),l=a(11),r=a.n(l),o=(a(217),a(218),a(18)),i=a(27),s=a(80),m=a.n(s),u=a(16),d=a(472),f=Object(n.createContext)(),p=function(e){var t=c.a.useState(),a=Object(o.a)(t,2),n=a[0],l=a[1];return c.a.createElement(f.Provider,{value:[n,l]},e.children)},h=a(178),E=a.n(h),g=function(){return c.a.createElement(E.a,{type:"ThreeDots",color:"#00BFFF",height:100,width:100})},v=(a(169),function(e){return c.a.createElement("div",{className:"error-message"},e.value)}),b=Object(u.scaleOrdinal)(d.a).range();function w(){var e=Object(n.useContext)(f),t=Object(o.a)(e,1)[0],a=Object(n.useState)(!1),l=Object(o.a)(a,2),r=l[0],s=l[1],u=Object(n.useState)([]),d=Object(o.a)(u,2),p=d[0],h=d[1],E=Object(n.useState)(!1),w=Object(o.a)(E,2),j=w[0],O=w[1];Object(n.useEffect)((function(){y()}),[t]);var y=function(){var e=[];s(!0),t&&t.people.forEach((function(t){var a=t.split("/");a[0]="https:";var n=a.join("/");console.log(a),e.push(N(n))})),Promise.all(e).then((function(e){var t=[];e&&e.forEach((function(e){var a="unknown"!==e.height?e.height.split(",").join(""):0,n="unknown"!==e.mass?e.mass.split(",").join(""):0;t.push({x:a,y:n,z:e.name,a:e.gender,b:e.mass}),h(t)})),s(!1)})).catch((function(e){O(!0),console.log("Something went wrong. Please try again"),s(!1)}))},N=function(e){return new Promise((function(t,a){m.a.get(e).then((function(e){t(e.data)})).catch((function(e){a(e)}))}))},x=function(e){var t=e.active,a=e.payload;return t?c.a.createElement("div",{className:"custom-tooltip"},c.a.createElement("div",null,c.a.createElement("p",{className:"name"},c.a.createElement("b",null,"Name"),": ",a[0].payload.z),c.a.createElement("p",{className:"gender"},c.a.createElement("b",null,"Gender"),": ",a[0].payload.a),c.a.createElement("p",{className:"height"},c.a.createElement("b",null,"Height"),": ",a[0].value),c.a.createElement("p",{className:"mass"},c.a.createElement("b",null,"Mass"),": ",a[0].payload.b))):null};return c.a.createElement("div",{className:"card plot-card"},c.a.createElement("div",{className:"card-body "},j?c.a.createElement(v,{value:"Fetch People data failed"}):r?c.a.createElement(g,null):c.a.createElement(i.d,{width:500,height:440,margin:{top:20,right:20,bottom:20,left:20}},c.a.createElement(i.f,{type:"number",dataKey:"x",name:"height",unit:"cm"},c.a.createElement(i.b,{value:"Height",position:"center",style:{textAnchor:"middle"},offset:100})),c.a.createElement(i.g,{type:"number",dataKey:"y",name:"mass",unit:"kg"},c.a.createElement(i.b,{value:"Mass",position:"left",style:{textAnchor:"middle"},offset:10,angle:270})),c.a.createElement(i.e,{cursor:{strokeDasharray:"3 3"},content:c.a.createElement(x,null)}),c.a.createElement(i.c,{data:p,fill:"#8884d8"},p.map((function(e,t){return c.a.createElement(i.a,{key:"cell-".concat(t),fill:b[t%b.length]})}))))))}var j=a(465),O=a(473),y=a(471),N=a(468),x=a(470),S="https://swapi.dev/api/",k=["".concat(S,"species?page=1"),"".concat(S,"species?page=2"),"".concat(S,"species?page=3"),"".concat(S,"species?page=4")],P=Object(j.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));function C(){var e=P(),t=Object(n.useState)(""),a=Object(o.a)(t,2),l=a[0],r=a[1],i=Object(n.useContext)(f),s=Object(o.a)(i,2),u=s[0],d=s[1],p=Object(n.useState)(!1),h=Object(o.a)(p,2),E=h[0],b=h[1],w=Object(n.useState)(!1),j=Object(o.a)(w,2),S=j[0],C=j[1];Object(n.useEffect)((function(){F()}),[]);var F=function(){var e=[];b(!0),k.forEach((function(t){e.push(W(t))})),Promise.all(e).then((function(e){r(e.flat()),console.log(e),d(e[0][0]),b(!1)})).catch((function(e){C(!0),console.log("Something went wrong. Please try again"),b(!1)}))},W=function(e){return new Promise((function(t,a){m.a.get(e).then((function(e){t(e.data.results)})).catch((function(e){a(e)}))}))};return c.a.createElement("div",null,S?c.a.createElement(v,{value:"Fetch species data failed"}):E?c.a.createElement(g,null):c.a.createElement(N.a,{variant:"filled",className:e.formControl},c.a.createElement(O.a,{id:"demo-simple-select-filled-label"},u?u.name:""),c.a.createElement(x.a,{labelId:"demo-simple-select-filled-label",id:"demo-simple-select-filled",value:l,onChange:function(e){return t=e,void d(l.find((function(e){return e.name===t.target.value})));var t}},l&&l.map((function(e,t){return c.a.createElement(y.a,{key:t,value:e.name},e.name)})))))}var F=a(180),W=a.n(F),A=function(e){return c.a.createElement("div",{className:"main-container"},c.a.createElement("div",{className:"card-heading col-sm-12 col-xs-12 col-md-12"},c.a.createElement("div",{className:"logo"},c.a.createElement("img",{src:W.a,width:"120px",height:"120px",alt:"Star Wars"}),c.a.createElement("p",{className:"app-description"},"Graphical representation of different star wars species selected from dropdown"))),c.a.createElement(p,null,c.a.createElement("div",{className:"select-option"},c.a.createElement("label",{className:"dropdown-header"},"Pick a Species"),c.a.createElement(C,null)),c.a.createElement(w,null)))};var B=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(A,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(431);r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[212,1,2]]]);
//# sourceMappingURL=main.b5a5922d.chunk.js.map